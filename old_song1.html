<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="old_song.css">
    <!-- Insert this line above script imports  -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

    <!-- normal script imports etc  -->
    <script src="./lib/jQuery3.6.js"></script>

    <!-- Insert this line after script imports -->
    <script>if (window.module) module = window.module;</script>
</head>

<body>

<div id="song1">
    <h2>(1) Initialization and pre-encryption</h2>

    <!-- 1st row -->
    <div class="flex-container">
        <!-- primitives -->
        <div style="border-style: dotted;border-color: gainsboro;">
            <div id="E" class="block xs">E</div>
            <div id="G" class="block xs">Gs</div>
            <div id="smallF" class="block xs">f</div>
            <div id="bigF" class="block xs">F</div>
        </div>

        <!-- file, password -->
        <div style="border-style: dotted;border-color: gainsboro;margin-left: 20px;margin-right: 20px;padding: 20px;width: 400px;">
            <!-- choose file -->
            <div>
                <label>Select a few files to encrypt:</label>
                <br>
                <input type="file" id="fileInput" multiple style="margin: 10px;" />
            </div>
            <!-- password -->
            <div>
                <label>Choose a password.</label>
                <p style="font-size: 14px;text-align: left">Together with a random salt, your password will be used to generate cryptographically strong key for each of E, Gs, f, F.</p>
                <br>
                <input id="password" minlength="8" required>
                <p id="passwordNotice" style="font-size: 12px"></p>
            </div>

            <!-- confirm -->
            <div>
                <button id="confirmButton" class="centerOfParent" type="button" style="margin-top: 15px">Confirm</button>
            </div>
        </div>

        <!-- image -->
        <div style="border-style: dotted;border-color: gainsboro;">
            <!-- Wi -->
            <div id="Wi" class="block big">
                W<sub>i</sub>
            </div>

            <!-- down arrow -->
            <div id="darr" class="block-trans big arrow">
                &darr;
            </div>

            <!-- Xj -->
            <div id="Xj" class="block big">
                X<sub>i</sub>
            </div>

            <!-- two arrows -->
            <div class="flex-container">
                <div id="dlarr" class="block-trans small arrow">
                    &swarr;
                </div>

                <div id="drarr" class="block-trans small arrow">
                    &searr;
                </div>
            </div>

            <!-- Li, Ri, arr to xor -->
            <div class="flex-container">
                <div id="Li" class="block small">
                    L<sub>i</sub>
                </div>

                <div id="Ri" class="block small">
                    R<sub>i</sub>
                </div>

                <div id="dxorarr" class="block-trans small arrow">
                    &#10549;
                </div>
            </div>

            <!-- empty, xor, and Ci -->
            <div class="flex-container">
                <div class="block-trans big"></div>
                <div id="xor"
                     class="block-trans small"
                     style="text-align:right;font-size:25px;width: 55px;">
                    âŠ•
                </div>

                <div id="rarr" class="block-trans small arrow">
                    &rarr;
                </div>

                <div id="Ci" class="block big">
                    C<sub>i</sub>
                </div>
            </div>

            <!-- Si, Fk(Si), and ne arrow -->
            <div class="flex-container">
                <div id="Si" class="block small">
                    S<sub>i</sub>
                </div>

                <div id="Fi" class="block small">
                    F<sub>k<sub>i</sub></sub>(S<sub>i</sub>)
                </div>

                <div id="uxorarr" class="block-trans small arrow" style="">
                    &#10548;
                </div>
            </div>

            <!-- formula about ki -->
            <div id="ki">
                where k<sub>i</sub> = f<sub>k'</sub>(L<sub>i</sub>)
            </div>
        </div>
    </div>


    <!-- 2nd row -->
    <div class="flex-container" style="margin-top: 10px;height: 280px;">

        <!-- chosen files -->
        <div style="margin-right: 20px">
            <p>files</p>
            <ul id="fileList" style="border-style: dotted;border-color: gainsboro;">
            </ul>
        </div>


        <!-- three text areas -->
        <div class="flex-container">
            <div id="plainContainer">
                <p>plain</p>
                <textarea id="plainArea" disabled>display the plain text of the chosen file</textarea>
            </div>

            <div id="plainBlockContainer">
                <p>hex</p>
                <textarea id="hexArea" disabled>display the hex representation of the chosen file</textarea>
            </div>

            <div id="XjContainer">
                <p>pre-encrypted</p>
                <textarea id="XjContainer" style="height: 220px;" disabled>display the pre-encrypted cipher text of the chosen file</textarea>
                <button id="XiButton" type="button" class="centerOfParent" disabled>Pre encrypt</button>
            </div>
        </div>
    </div>

    <!-- 3rd row: next page -->
    <div style="text-align: right;margin-top: 15px">
        <button id="next1" hidden>Next &rarr;</button>
    </div>
</div>


<script src="globalModules.js"></script>
<script src="globalVar.js"></script>
<script src="globalHTMLs.js"></script>
<script src="primitives.js"></script>
<script src="se.js"></script>
<script src="old_song1.js"></script>
<script src="old_song2.js"></script>

</body>